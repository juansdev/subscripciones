<p align="center">
  <img src="https://simpleicons.org/icons/dotnet.svg" style="filter:invert(1);" width="100" alt="project-logo">
</p>
<p align="center">
    <h1 align="center">SUBSCRIPCIONES</h1>
</p>
<p align="center">
    <em>¬°Gestiona tu Universo de Escritores con WebAPIAutores! Con su arquitectura robusta e interfaz intuitiva, nuestra soluci√≥n WebAPIAutores te permite aprovechar el potencial ilimitado de las suscripciones de autores. Aprovechando los servicios web API de ASP.NET Core y Azure, este sistema optimizado ofrece una integraci√≥n perfecta y una experiencia f√°cil de usar. ¬°√önete a nosotros en un emocionante viaje por el paisaje literario! üåêüöÄ</em>
</p>
<p align="center">
	<img src="https://img.shields.io/github/license/juansdev/subscripciones?style=default&logo=opensourceinitiative&logoColor=white&color=0080ff" alt="license">
	<img src="https://img.shields.io/github/last-commit/juansdev/subscripciones?style=default&logo=git&logoColor=white&color=0080ff" alt="last-commit">
	<img src="https://img.shields.io/github/languages/top/juansdev/subscripciones?style=default&color=0080ff" alt="repo-top-language">
	<img src="https://img.shields.io/github/languages/count/juansdev/subscripciones?style=default&color=0080ff" alt="repo-language-count">
<p>
<p align="center">
	<!-- default option, no dependency badges. -->
</p>

<!-- TABLA DE CONTENIDOS -->
<details>
  <summary>Tabla de Contenidos</summary><br>

- [Visi√≥n General](#-visi√≥n-general)
- [Caracter√≠sticas](#-caracter√≠sticas)
- [Estructura del Repositorio](#-estructura-del-repositorio)
- [M√≥dulos](#-m√≥dulos)
- [Comenzando](#-comenzando)
    - [Instalaci√≥n](#-instalaci√≥n)
    - [Uso](#-uso)
    - [Pruebas](#-pruebas)
</details>
<hr>

##  Visi√≥n General

El proyecto de software en cuesti√≥n, llamado WebAPIAutores, es una robusta aplicaci√≥n ASP.NET Core dise√±ada para la gesti√≥n eficiente de autores en m√∫ltiples plataformas. Su archivo de soluci√≥n centralizado, WebAPIAutores.sln, orquesta varios proyectos, incluyendo servicios web API, capas de acceso a datos y utilidades, dentro de una arquitectura unificada (Any CPU). En su n√∫cleo se encuentra el proyecto WebAPIAutores/WebAPIAutores.csproj, que se enfoca en configurar un servicio web API RESTful centrado en la suscripci√≥n de autores. Aprovechando .NET versi√≥n 6.0 y paquetes esenciales como AutoMapper, autenticaci√≥n JwtBearer, EntityFrameworkCore, Swashbuckle.AspNetCore y NewtonsoftJson para la serializaci√≥n de modelos, simplifica el desarrollo de un sistema integral de gesti√≥n de suscripciones de autores.

La estructura de carpetas del proyecto est√° organizada de manera juiciosa, fomentando procesos de desarrollo, pruebas y despliegue fluidos. Los detalles clave de configuraci√≥n residen en el archivo WebAPIAutores/appsettings.json, asegurando configuraciones predeterminadas de registro en el nivel de Informaci√≥n mientras filtra advertencias de Microsoft e informaci√≥n relacionada con el hospedaje. Tambi√©n acomoda cualquier host y establece la cadena de conexi√≥n para una base de datos de Azure llamada CursoWebApis para gestionar los datos de la aplicaci√≥n de manera segura. Este proyecto de c√≥digo abierto ofrece un valor excepcional al proporcionar una soluci√≥n escalable y multiplataforma para gestionar autores y sus suscripciones de manera moderna y segura.

---

##  Caracter√≠sticas

| Caracter√≠stica    | Descripci√≥n                                                                                                                      |
|-------------------|----------------------------------------------------------------------------------------------------------------------------------|
| **Arquitectura**  | El archivo de soluci√≥n `WebAPIAutores.sln` orquesta proyectos de web API ASP.NET Core, acceso a datos y utilidades para la gesti√≥n de autores. |
| **Calidad del C√≥digo** | La base de c√≥digo en C# es limpia con el uso adecuado de comentarios, convenciones de nombrado de variables/funciones, y se adhiere a las directrices de .NET.  |
| **Documentaci√≥n** | Existe documentaci√≥n en forma de archivos readme del proyecto y de archivos, pero es escasa. Una documentaci√≥n m√°s completa mejorar√≠a la experiencia del usuario. |
| **Integraciones** | AutoMapper, autenticaci√≥n JwtBearer, EntityFrameworkCore, Swashbuckle.AspNetCore y NewtonsoftJson para un mejor desarrollo.       |
| **Modularidad**   | La estructura de carpetas bien organizada optimiza la organizaci√≥n de controladores, modelos, servicios, middleware, etc., mejorando la mantenibilidad.  |
| **Pruebas**       | Utiliza MSTest como el marco de pruebas para asegurar la implementaci√≥n adecuada de pruebas unitarias y de integraci√≥n.          |
| **Rendimiento**   | Construido eficientemente usando .NET 6, pero no se proporciona una evaluaci√≥n expl√≠cita de la eficiencia o la velocidad. El uso de recursos es manejable.  |
| **Seguridad**     | Implementa autenticaci√≥n mediante JwtBearer y protecci√≥n de datos con conexiones a servidores de Azure y limitaci√≥n de tasa en las solicitudes API.   |
| **Dependencias**  | Utiliza varias bibliotecas externas como `html`, `csproj`, `txt`, `text`, `csharp`, `sln`, `json`, `cs`, `AutoMapper`, JwtBearer, EFCore, Swashbuckle y NewtonsoftJson. |

---

##  Estructura del Repositorio

```sh
‚îî‚îÄ‚îÄ subscripciones/
    ‚îú‚îÄ‚îÄ WebAPIAutores
    ‚îÇ   ‚îú‚îÄ‚îÄ .gitignore
    ‚îÇ   ‚îú‚îÄ‚îÄ ApplicationDbContext.cs
    ‚îÇ   ‚îú‚îÄ‚îÄ Controllers
    ‚îÇ   ‚îú‚îÄ‚îÄ DTOs
    ‚îÇ   ‚îú‚îÄ‚îÄ Entidades
    ‚îÇ   ‚îú‚îÄ‚îÄ Filtros
    ‚îÇ   ‚îú‚îÄ‚îÄ Middlewares
    ‚îÇ   ‚îú‚îÄ‚îÄ Migrations
    ‚îÇ   ‚îú‚îÄ‚îÄ Program.cs
    ‚îÇ   ‚îú‚îÄ‚îÄ Properties
    ‚îÇ   ‚îú‚îÄ‚îÄ Servicios
    ‚îÇ   ‚îú‚îÄ‚îÄ Startup.cs
    ‚îÇ   ‚îú‚îÄ‚îÄ Utilidades
    ‚îÇ   ‚îú‚îÄ‚îÄ Validaciones
    ‚îÇ   ‚îú‚îÄ‚îÄ WebAPIAutores.csproj
    ‚îÇ   ‚îú‚îÄ‚îÄ appsettings.Development.json
    ‚îÇ   ‚îú‚îÄ‚îÄ appsettings.json
    ‚îÇ   ‚îú‚îÄ‚îÄ prueba.html
    ‚îÇ   ‚îî‚îÄ‚îÄ wwwroot
    ‚îî‚îÄ‚îÄ WebAPIAutores.sln
```

---

##  M√≥dulos

<details closed><summary>.</summary>

| Archivo                                                                                       | Resumen                                                                                                                                                                                                                                                                                                                                                                         |
| ---                                                                                           | ---                                                                                                                                                                                                                                                                                                                                                                             |
| [WebAPIAutores.sln](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores.sln) | Este archivo de soluci√≥n, `WebAPIAutores.sln`, sirve como el plano para un proyecto de Visual Studio llamado WebAPIAutores. Agrega varios proyectos bajo una arquitectura unificada, como servicios web API ASP.NET Core, acceso a datos y utilidades, facilitando el desarrollo eficiente de una aplicaci√≥n centrada en la gesti√≥n de autores en un entorno multiplataforma (Any CPU). |

</details>

<details closed><summary>WebAPIAutores</summary>

| Archivo                                                                                                                             | Resumen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ---                                                                                                                                 | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [WebAPIAutores.csproj](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/WebAPIAutores.csproj)                 | Este archivo de proyecto configura una API web para suscripciones de autores. Especifica la versi√≥n .NET 6.0 e integra los paquetes necesarios como AutoMapper, autenticaci√≥n JwtBearer, EntityFrameworkCore, Swashbuckle.AspNetCore y NewtonsoftJson para la serializaci√≥n de modelos. La estructura de carpetas est√° dise√±ada para organizar de manera √≥ptima los controladores, modelos, servicios, middleware, etc., facilitando el desarrollo, las pruebas y el despliegue de la aplicaci√≥n de la API web de suscripci√≥n de autores. |
| [appsettings.json](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/appsettings.json)                         | Establece el nivel de registro predeterminado en Information, filtra las advertencias de Microsoft y la vida √∫til del alojamiento. Permite cualquier host (*). Define la cadena de conexi√≥n a la base de datos del servidor de Azure para la base de datos de la aplicaci√≥n, CursoWebApis. Implementa la limitaci√≥n de tasas en peticiones por d√≠a, hasta 20 solicitudes gratuitas y una lista blanca de rutas.                                                                                                          |
| [prueba.html](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/prueba.html)                                   | El archivo de interfaz frontend para WebAPIAutores inicia la recuperaci√≥n de datos del punto de acceso API (/api/autores). Utiliza el m√©todo fetch de JavaScript y pasa el token de autenticaci√≥n como encabezado X-Api-Key, permitiendo que el frontend solicite datos del servicio backend. Esto simplifica las interacciones con la base de datos de autores, mejorando finalmente la experiencia del usuario.                                                                                 |
| [Startup.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Startup.cs)                                     | Configura servicios, autenticaci√≥n con JWT, documentaci√≥n Swagger, gesti√≥n de identidad, pol√≠ticas de autorizaci√≥n, AutoMapper, protecci√≥n de datos y middleware de registro. Utiliza CORS y limitaci√≥n de tasas como medidas de seguridad. Implementa un servicio alojado para manejar tareas asincr√≥nicas como generar hashes y enviar facturas.                                                                                                                                     |
| [Program.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Program.cs)                                     | Inicializa una aplicaci√≥n web para gestionar suscripciones de autores. El archivo Program es responsable de construir la aplicaci√≥n y configurar sus servicios utilizando la configuraci√≥n de Startup y la inyecci√≥n de dependencias. Esto forma la base de nuestro servicio API REST dentro de la arquitectura m√°s amplia del repositorio de suscripciones, sirviendo como punto de entrada al lanzar la aplicaci√≥n.                                                                             |
| [ApplicationDbContext.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/ApplicationDbContext.cs)           | Este archivo de contexto C# en nuestro proyecto WebAPIAutores define modelos de datos para la aplicaci√≥n, permitiendo la interacci√≥n con tablas de la base de datos como Autor, Libro, Comentario, entre otras. Gestiona relaciones como AutorLibro (conectando autores y libros) y Factura (facturas), proporcionando un enlace cr√≠tico entre la API y su almacenamiento de datos.                                                                                                                    |
| [appsettings.Development.json](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/appsettings.Development.json) | Establece el nivel de registro en "Information" para facilitar la depuraci√≥n. Establece la cadena de conexi√≥n al servidor SQL local. Define la clave secreta JWT para fines de autenticaci√≥n. Limita las solicitudes diarias gratuitas a 20.                                                                                                                                                                                                                           |

</details>

<details closed><summary>WebAPIAutores.Middlewares</summary>

| Archivo                                                                                                                                                                  | Resumen                                                                                                                                                                                                                                                               |
| ---                                                                                                                                                                     | ---                                                                                                                                                                                                                                                                   |
| [LoguearRespuestaHTTPMiddleware.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Middlewares/LoguearRespuestaHTTPMiddleware.cs)               | Rastrea las respuestas HTTP en la aplicaci√≥n WebAPIAutores redirigiendo temporalmente los cuerpos de respuesta a trav√©s de un flujo de memoria, registrando el contenido para su revisi√≥n y soluci√≥n de problemas. Diagn√≥sticos simplificados para asegurar un rendimiento de servicio sin problemas.               |
| [LimitarPeticionesMiddlewareExtensions.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Middlewares/LimitarPeticionesMiddlewareExtensions.cs) | Verifica el l√≠mite diario de peticiones y el estado del usuario antes de agregar peticiones a la base de datos. Implementa funciones separadas para verificar restricciones de IP y dominio. Devuelve los c√≥digos de respuesta HTTP apropiados seg√∫n los resultados, como 'Demasiadas solicitudes' o 'Mal deudor'. |

</details>

<details closed><summary>WebAPIAutores.Entidades</summary>

| Archivo                                                                                                                          | Resumen                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ---                                                                                                                             | ---                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [Factura.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Entidades/Factura.cs)                       | En el repositorio WebAPIAutores, la clase Factura organiza informaci√≥n de facturaci√≥n crucial para cada usuario, como su ID, estado de pago, monto total, fechas de emisi√≥n y vencimiento. Integrada con la entidad Usuario, facilita el seguimiento de los pagos en el sistema.                                                                                                                                                      |
| [Comentario.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Entidades/Comentario.cs)                 | Gestiona las entidades `Comentario` en el `WebAPIAutores`, almacenando comentarios de usuarios relacionados con libros espec√≠ficos. Esta clase establece conexiones entre comentarios, usuarios y libros correspondientes, enriqueciendo la interacci√≥n dentro de la aplicaci√≥n.                                                                                                                                                    |
| [LlaveAPI.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Entidades/LlaveAPI.cs)                     | Gestiona las claves de autenticaci√≥n para el acceso de usuarios. La clase LlaveAPI contiene atributos como Id, Llave, Tipo (Gratuita/Profesional), indicador de activaci√≥n, UsuarioId y listas de restricciones de dominio y restricciones de IP para una gesti√≥n segura del acceso.                                                                                                          |
| [FacturaEmitida.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Entidades/FacturaEmitida.cs)         | Este archivo encapsula la entidad FacturaEmitida dentro de la arquitectura de WebAPIAutores. Estructura datos de transacciones financieras (Mes y A√±o), proporcionando el marco para gestionar y registrar facturaciones mensuales. Integral para el seguimiento financiero, asegura una responsabilidad fluida.                                                                                                                |
| [RestriccionDominio.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Entidades/RestriccionDominio.cs) | Gestiona las restricciones de dominio dentro de la estructura de entidades de la API de suscripci√≥n. La clase `RestriccionDominio` define una entidad con `Id`, `LlaveId`, `Dominio` y una asociaci√≥n referencial con la `LlaveAPI`. Esto ayuda a restringir y validar las solicitudes de API en funci√≥n de su dominio de origen dentro de la arquitectura general.                                                                  |
| [Libro.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Entidades/Libro.cs)                           | Gestiona recursos literarios de manera eficiente. La clase de entidades cr√≠ticas `Libro` encapsula detalles del libro como t√≠tulo, fecha de publicaci√≥n y relaciones con autores y comentarios en la estructura del proyecto WebAPIAutores. Valida el t√≠tulo con la primera letra en may√∫scula y dentro del l√≠mite de longitud especificado, promoviendo un manejo de datos estructurado para aplicaciones bibliogr√°ficas.                          |
| [Usuario.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Entidades/Usuario.cs)                       | Potencia la gesti√≥n de usuarios dentro del repositorio de suscripciones al introducir la entidad `Usuario`, una extensi√≥n de `IdentityUser`. Esta entidad incluye el atributo `MalaPaga`, permitiendo el seguimiento de problemas de pago para usuarios individuales.                                                                                                                            |
| [Autor.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Entidades/Autor.cs)                           | En esta estructura de repositorio, `Autor.cs` define una clase de entidad llamada `Autor`. Esta clase es central para gestionar datos de autores dentro de la aplicaci√≥n `WebAPIAutores`. Cada instancia de la clase representa un autor, con atributos como Id y Nombre. La propiedad `AutoresLibros` mantiene asociaciones entre autores y sus libros, vinculando as√≠ a los autores y las obras literarias que crean.                |
| [AutorLibro.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Entidades/AutorLibro.cs)                 | Modelo para la relaci√≥n compuesta entre `Autores` y sus `Libros` asociados. Este modelo permite rastrear la participaci√≥n de cada autor en m√∫ltiples libros y ayuda a organizarlos en un orden secuencial (usando el campo `Orden`) dentro de una sola entidad de libro, mejorando la consistencia de los datos dentro de la WebAPI de Autores.                                                                                          |
| [RestriccionIP.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Entidades/RestriccionIP.cs)           | Gestiona las restricciones de IP en esta API web para el servicio de autores. La clase RestriccionIP encapsula cada direcci√≥n IP con su id √∫nico y la asocia con una clave de la entidad LlaveAPI, optimizando el control de acceso dentro de nuestra arquitectura de aplicaciones.                                                                                                          |
| [Peticion.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Entidades/Peticion.cs)                     | Gestiona las peticiones de manera eficiente definiendo y almacenando sus detalles, incluyendo ID, marca de tiempo y clave API asociada. La entidad Peticion sirve como base dentro de la aplicaci√≥n WebAPIAutores para el seguimiento de solicitudes de peticiones, asegurando un funcionamiento fluido a trav√©s de varias API.                                                                                              |

</details>

<details closed><summary>WebAPIAutores.wwwroot</summary>

| Archivo                                                                                                      | Resumen                                                                                                                                                                                                                                                                        |
|--------------------------------------------------------------------------------------------------------------| ---                                                                                                                                                                                                                                                                            |
| [Archivo 1.txt](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/wwwroot/Archivo%201.txt) | Monitorea y registra el estado de los procesos de larga duraci√≥n dentro de la aplicaci√≥n WebAPIAutores. Proporciona actualizaciones en tiempo real, marcas de tiempo e indica cu√°ndo se completa un proceso. Integral para gestionar tareas que consumen mucho tiempo de manera eficiente, mejorando el rendimiento de la aplicaci√≥n. |

</details>

<details closed><summary>WebAPIAutores.Filtros</summary>

| Archivo                                                                                                                      | Resumen                                                                                                                                                                                |
| ---                                                                                                                       | ---                                                                                                                                                                                    |
| [FiltroDeExcepcion.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Filtros/FiltroDeExcepcion.cs) | Monitorea y maneja excepciones para la aplicaci√≥n WebAPIAutores, registrando errores de manera efectiva y asegurando una experiencia de usuario fluida al prevenir posibles fallos de la aplicaci√≥n. |

</details>

<details closed><summary>WebAPIAutores.Migrations</summary>

| Archivo                                                                                                                                                                                | Resumen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ---                                                                                                                                                                                     |------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [20230711193422_Llaves.Designer.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20230711193422_Llaves.Designer.cs)                               | IdentityUser y sus entidades relacionadas como Login, Role, Token est√°n interrelacionadas a trav√©s de claves for√°neas con el comportamiento OnDelete configurado en Cascade. 2. Autor y Libro est√°n asociados en la entidad AutorLibro, que representa una relaci√≥n de muchos a muchos entre ellos. 3. Un Comentario est√° vinculado tanto a un Libro (uno a muchos) como a un Usuario (uno a muchos). 4. LlaveAPI tiene una asociaci√≥n de uno a muchos con IdentityUser, y hay una relaci√≥n de uno a uno entre IdentityUser y el resto de las entidades mencionadas.                                       |
| [20230712025052_Facturas.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20230712025052_Facturas.cs)                                             | Una migraci√≥n para establecer nuevas tablas de base de datos `Facturas` y `FacturasEmitidas` dentro de la base de datos WebAPIAutores. La tabla Facturas almacena las transacciones financieras de los usuarios mientras rastrea su estado de pago, monto, fecha de emisi√≥n y fecha l√≠mite. La tabla FacturasEmitidas categoriza las facturas por mes y a√±o para facilitar la gesti√≥n de registros.                                                                                                                                                                                                        |
| [20210604225138_Comentarios.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20210604225138_Comentarios.cs)                                       | Introduce la tabla Comentarios para los comentarios de los usuarios sobre los libros en el repositorio WebAPIAutores, creando una relaci√≥n de clave for√°nea con la tabla Libros e implementando funcionalidad CRUD a trav√©s de Migraciones para gestionar las rese√±as de libros.                                                                                                                                                                                                                                                                                                                           |
| [20230711203336_Peticiones.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20230711203336_Peticiones.cs)                                         | Introduce la tabla `Peticiones` en el esquema de base de datos de WebAPIAutores, permitiendo registrar peticiones, haciendo referencia a claves relevantes de `LlavesAPI`.                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [20210606130933_AutoresLibros.Designer.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20210606130933_AutoresLibros.Designer.cs)                 | Este archivo de Migraci√≥n extiende `ApplicationDbContext` para crear y gestionar tablas para `Autores`, `Libros`, `AutorLibro` y `Comentario`. Se definen las relaciones entre entidades, asegurando la integridad de los datos dentro de la base de datos de la aplicaci√≥n WebAPIAutores.                                                                                                                                                                                                                                                                                                                 |
| [20230712022148_UsuarioMalaPaga.Designer.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20230712022148_UsuarioMalaPaga.Designer.cs)             | Establece y configura relaciones de uno a muchos entre tablas en un modelo de EF Core, con eliminaciones en cascada y claves for√°neas requeridas. La entidad Usuario se referencia en m√∫ltiples tablas sin especificar sus colecciones asociadas. Tambi√©n se configuran varias propiedades de navegaci√≥n para facilitar el acceso a los datos.                                                                                                                                                                                                                                                             |
| [20230712022148_UsuarioMalaPaga.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20230712022148_UsuarioMalaPaga.cs)                               | Introduce el atributo de usuario MalaPaga, categorizando a los usuarios con problemas de pago en la aplicaci√≥n WebAPIAutores, para mejorar la gesti√≥n de usuarios y suscripciones.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [20230711193422_Llaves.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20230711193422_Llaves.cs)                                                 | Este archivo, Llaves.cs, dentro de la carpeta Migrations del proyecto `WebAPIAutores`, configura y gestiona una nueva tabla de base de datos llamada `LlavesAPI`. Define claves con sus propiedades asociadas como tipo, actividad y usuario vinculado, ayudando en los procesos de autorizaci√≥n segura de la aplicaci√≥n API.                                                                                                                                                                                                                                                                              |
| [20210604205557_Inicial.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20210604205557_Inicial.cs)                                               | Esta migraci√≥n configura dos tablas: Autores y Libros. La tabla Autores almacena nombres de autores para datos relacionados con libros en la aplicaci√≥n WebAPIAutores, mientras que la tabla Libros mantiene t√≠tulos de libros, proporcionando una estructura b√°sica para futuras relaciones entre entidades.                                                                                                                                                                                                                                                                                              |
| [20210610151744_SistemaUsuarios.Designer.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20210610151744_SistemaUsuarios.Designer.cs)             | En este script, las entidades como `Libros`, `Autor` y `Comentario` se asignan con sus respectivas claves for√°neas utilizando la API fluida. Tambi√©n se definen entidades relacionadas con la identidad como `IdentityUserRole` para la integraci√≥n de ASP.NET Identity. Se configuran relaciones, incluidas relaciones de uno a muchos entre un `Autor` y m√∫ltiples `Libro`, o un `Comentario` asociado con un solo `Libro`. El constructor del modelo asegura la eliminaci√≥n en cascada de claves for√°neas para preservar la integridad de los datos de las tablas asociadas.                            |
| [20210610151744_SistemaUsuarios.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20210610151744_SistemaUsuarios.cs)                               | Crea las tablas AspNetUserRoles, AspNetUsers, AspNetUserTokens con relaciones de clave for√°nea. Tambi√©n crea √≠ndices para varias tablas como AspNetRoleClaims, AspNetUserClaims, etc. Sin embargo, si es necesario, elimina todas las tablas especificadas y las reconstruye desde cero al revertir las migraciones.                                                                                                                                                                                                                                                                                       |
| [20210610193244_ComentarioUsuario.Designer.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20210610193244_ComentarioUsuario.Designer.cs)         | Configura relaciones de base de datos entre modelos de ASP.NET Identity y entidades personalizadas en la aplicaci√≥n WebAPIAutores. Impone la eliminaci√≥n en cascada y claves for√°neas requeridas, estableciendo una relaci√≥n de muchos a muchos entre Usuario, Role y UserRole; conexiones de uno a muchos entre Autor, Libro, AutorLibro y Comentario.                                                                                                                                                                                                                                                    |
| [20230712013320_Restricciones.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20230712013320_Restricciones.cs)                                   | En esta migraci√≥n, se crean las tablas `RestriccionesDominio` y `RestriccionesIps`, estableciendo restricciones para dominios y direcciones IP respectivamente. Esto facilita el control de acceso a nuestra API al imponer l√≠mites basados en dominio o direcci√≥n IP. El prop√≥sito principal de estas tablas es hacer cumplir medidas de seguridad en nuestra plataforma WebAPIAutores.                                                                                                                                                                                                                   |
| [ApplicationDbContextModelSnapshot.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/ApplicationDbContextModelSnapshot.cs)                         | Este archivo C# define relaciones de modelo de EF Core para un proyecto de API con entidades como `Usuario`, `Libro`, `Comentario`, `Factura` y `LlaveAPI`. Utiliza la API fluida para establecer relaciones de uno a muchos y de muchos a muchos. El modelo asegura que las dependencias de clave for√°nea se manejen adecuadamente para eliminaciones, manteniendo propiedades de navegaci√≥n.                                                                                                                                                                                                             |
| [20230712013320_Restricciones.Designer.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20230712013320_Restricciones.Designer.cs)                 | Define relaciones de muchos a muchos y de uno a uno para las tablas de base de datos, asegurando el uso adecuado de claves for√°neas, eliminaciones en cascada y propiedades de navegaci√≥n dentro del modelo de Entity Framework de C# para una aplicaci√≥n ASP.NET.                                                                                                                                                                                                                                                                                                                                         |
| [20210604205557_Inicial.Designer.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20210604205557_Inicial.Designer.cs)                             | Inicializa una estructura de base de datos para una API web sobre autores y libros. Define entidades Autor y Libro, configurando sus propiedades y tablas dentro de Autores y Libros respectivamente, para establecer una relaci√≥n entre las dos entidades. Esto facilita la gesti√≥n eficiente de autores y sus correspondientes libros.                                                                                                                                                                                                                                                                   |
| [20230711203336_Peticiones.Designer.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20230711203336_Peticiones.Designer.cs)                       | AutorLibro, Comentario, LlaveAPI, Peticion y relacionados con la identidad como IdentityUser, IdentityRole y IdentityUserRole. Asegura eliminaciones en cascada adecuadas, relaciones requeridas y una navegaci√≥n eficiente para estas relaciones dentro del esquema de base de datos de las aplicaciones.                                                                                                                                                                                                                                                                                                 |
| [20210606130933_AutoresLibros.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20210606130933_AutoresLibros.cs)                                   | La migraci√≥n `AutoresLibros` crea una tabla para `AutoresLibros` que vincula autores con libros en este proyecto de API web, estableciendo relaciones y permitiendo la organizaci√≥n de datos dentro de la base de datos.                                                                                                                                                                                                                                                                                                                                                                                   |
| [20210606185500_FechaPublicacionLibro.Designer.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20210606185500_FechaPublicacionLibro.Designer.cs) | Actualiza el esquema de base de datos para crear tablas para autores, libros, comentarios y sus relaciones. Define entidades, propiedades y restricciones, y configura relaciones de claves for√°neas dentro del contexto de la aplicaci√≥n. Permite la gesti√≥n de la base de datos para un servicio de API dedicado a libros y autores.                                                                                                                                                                                                                                                                     |
| [20210604225138_Comentarios.Designer.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20210604225138_Comentarios.Designer.cs)                     | Este script de migraci√≥n agrega una tabla de Comentarios a la base de datos dentro de la aplicaci√≥n WebAPIAutores. Define relaciones con Autor, Libro y sus tablas correspondientes, estableciendo una asociaci√≥n de muchos a muchos entre Comentarios, Libros y Autores a trav√©s de claves for√°neas y comportamiento en eliminaci√≥n.                                                                                                                                                                                                                                                                      |
| [20210606185500_FechaPublicacionLibro.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20210606185500_FechaPublicacionLibro.cs)                   | En este repositorio `WebAPIAutores`, esta migraci√≥n agrega o elimina una columna `FechaPublicacion` en la tabla `Libros` (libros) en la base de datos. Esta mejora apoya la organizaci√≥n oportuna y la consulta de libros basada en la fecha de publicaci√≥n dentro del sistema de cat√°logo de libros.                                                                                                                                                                                                                                                                                                      |
| [20210610193244_ComentarioUsuario.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20210610193244_ComentarioUsuario.cs)                           | Introduce la columna relacionada con el usuario UsuarioId en la tabla Comentarios, establece un √≠ndice en esta columna y la vincula con la tabla AspNetUsers, reforzando la responsabilidad del usuario por los comentarios dentro de la arquitectura de la aplicaci√≥n WebAPIAutores.                                                                                                                                                                                                                                                                                                                      |
| [20230712025052_Facturas.Designer.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Migrations/20230712025052_Facturas.Designer.cs)                           | En esta configuraci√≥n de Entity Framework Core, se establecen relaciones entre tablas. La entidad Autor est√° relacionada con la tabla Libro a trav√©s de una relaci√≥n de muchos a muchos. Las entidades Comentario, Factura y LlaveAPI tambi√©n est√°n vinculadas a Libro con relaciones de uno a muchos, eliminaci√≥n en cascada y claves for√°neas requeridas. Varias tablas (RestriccionesDominio, RestriccionesIP) se conectan con la tabla LlaveAPI a trav√©s de una asociaci√≥n de uno y a trav√©s. Las entidades Autor, Libro y LlaveAPI son propiedades de navegaci√≥n a sus asociaciones correspondientes. |

</details>

<details closed><summary>WebAPIAutores.DTOs</summary>

| Archivo                                                                                                                                               | Resumen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ---                                                                                                                                                    |-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [PagarFacturaDto.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/PagarFacturaDto.cs)                                     | Optimiza la transferencia de datos para pagos de facturas al definir la estructura PagarFacturaDto dentro de la arquitectura del proyecto WebAPIAutores. Este DTO encapsula los datos requeridos FacturaId, simplificando la interacci√≥n entre capas de servicio y aplicaciones cliente.                                                                                                                                                                                                              |
| [CrearRestriccionIPDto.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/CrearRestriccionIPDto.cs)                         | Permite la creaci√≥n de restricciones de IP en la aplicaci√≥n al aceptar los datos de entrada requeridos sobre direcciones IP a trav√©s del Objeto de Transferencia de Datos (DTO) `CrearRestriccionIPDto`. Esto contribuye al marco de seguridad general dentro del proyecto de la API WebAPIAutores, permitiendo el filtrado de ciertas direcciones IP seg√∫n sea necesario.                                                                                                                            |
| [RespuestaAutenticacion.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/RespuestaAutenticacion.cs)                       | Autentica y gestiona el acceso dentro de WebAPIAutores al definir y devolver tokens de autenticaci√≥n junto con marcas de tiempo de expiraci√≥n a trav√©s de la clase `RespuestaAutenticacion` en el directorio DTOs. Asegura sesiones de usuario seguras dentro de la aplicaci√≥n.                                                                                                                                                                                                                       |
| [RestriccionDominioDto.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/RestriccionDominioDto.cs)                         | La clase RestriccionDominioDto en la carpeta DTOs de WebAPIAutores optimiza el proceso al recibir datos de dominio, estableciendo su ID √∫nico y asegurando que cumpla con las restricciones predefinidas, contribuyendo a una gesti√≥n robusta de datos en nuestra arquitectura API.                                                                                                                                                                                                                   |
| [ActualizarLlaveDto.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/ActualizarLlaveDto.cs)                               | Optimiza la transferencia de datos entre capas para actualizaciones de autenticaci√≥n al definir ActualizarLlaveDto, un Objeto de Transferencia de Datos dentro de la arquitectura de WebAPIAutores. Lleva los campos necesarios para manejar la identificaci√≥n de llaves y el estado de activaci√≥n de actualizaciones.                                                                                                                                                                                |
| [AutorCreacionDTO.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/AutorCreacionDTO.cs)                                   | En este archivo DTO, se define un objeto de transferencia de datos `AutorCreacionDTO`. Este objeto captura detalles clave como el nombre de un autor al crear uno nuevo a trav√©s de la API de la aplicaci√≥n. El objeto sigue reglas de validaci√≥n estrictas para la longitud de cadenas y la capitalizaci√≥n de la primera letra para asegurar datos de alta calidad. Integrado con validaciones personalizadas para reforzar la robustez y mantenibilidad dentro de nuestro ecosistema WebAPIAutores. |
| [LibroCreacionDTO.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/LibroCreacionDTO.cs)                                   | Datos entrantes sobre la creaci√≥n de nuevos libros desde las API web, valida entradas como t√≠tulos con la primera letra capitalizada y dentro de un l√≠mite de longitud especificado, y asigna una lista de Ids de autores al libro para su posterior persistencia en la base de datos del repositorio.                                                                                                                                                                                                |
| [LimitarPeticionesConfiguracion.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/LimitarPeticionesConfiguracion.cs)       | Regula las limitaciones de solicitudes de API. Introduce una configuraci√≥n configurable para peticiones diarias gratuitas (`PeticionesPorDiaGratuito`) y rutas de lista blanca (`ListaBlancaRutas`), mejorando la gesti√≥n de recursos dentro de la arquitectura de Autores WebAPI.                                                                                                                                                                                                                    |
| [EditarAdminDTO.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/EditarAdminDTO.cs)                                       | En este repositorio para una API web que gestiona autores, `EditarAdminDTO.cs` define un objeto de transferencia de datos (DTO) para manejar actualizaciones de correo electr√≥nico como parte del sistema de gesti√≥n de administradores. Esto simplifica la validaci√≥n de entrada, asegurando que solo se proporcionen correos electr√≥nicos requeridos con formatos v√°lidos.                                                                                                                          |
| [ActualizarRestriccionDominioDto.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/ActualizarRestriccionDominioDto.cs)     | Optimiza el proceso de suscripci√≥n al definir la informaci√≥n de dominio requerida. La clase ActualizarRestriccionDominioDto recopila y valida los datos de Dominio en el servicio RESTful WebAPIAutores, permitiendo una gesti√≥n sin problemas de actualizaciones relacionadas con el dominio.                                                                                                                                                                                                        |
| [CrearLlaveDto.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/CrearLlaveDto.cs)                                         | Una clase `CrearLlaveDto` define la estructura de entrada en el repositorio WebAPIAutores, vinculando datos de solicitudes de cliente a tipos correspondientes (TipoLlave) almacenados dentro de Entidades. Este proceso ayuda a asegurar una generaci√≥n de llaves consistente y segura.                                                                                                                                                                                                              |
| [AutorDTOConLibros.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/AutorDTOConLibros.cs)                                 | Introduce un nuevo modelo AutorDTOConLibros, extendiendo el existente AutorDTO al incluir una lista de detalles de libros asociados a trav√©s de LibroDTO. Enriquecen la estructura de datos para el recurso Autor de la API web, proporcionando contexto para el contenido de la biblioteca relacionada.                                                                                                                                                                                              |
| [ResultadoHash.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/ResultadoHash.cs)                                         | Un DTO llamado `ResultadoHash` dentro del proyecto WebAPIAutores acepta y devuelve datos cifrados junto con su sal. Esto facilita el manejo seguro de informaci√≥n sensible a lo largo de las interacciones de la API de la aplicaci√≥n.                                                                                                                                                                                                                                                                |
| [CrearRestriccionesDominioDto.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/CrearRestriccionesDominioDto.cs)           | Este archivo define `CrearRestriccionesDominioDto`, un Objeto de Transferencia de Datos utilizado para la validaci√≥n de solicitudes al crear restricciones espec√≠ficas de dominio dentro del proyecto WebAPIAutores del repositorio de subscripciones. Al usar este DTO, la aplicaci√≥n asegura que solo se env√≠e informaci√≥n esencial y que cumpla con sus estrictos requisitos de datos.                                                                                                             |
| [AutorDTO.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/AutorDTO.cs)                                                   | Una representaci√≥n simplificada de autores, `AutorDTO`. Caracter√≠sticas cr√≠ticas: `Id`, un identificador √∫nico; `Nombre` para el nombre del autor. En el contexto de este proyecto WebAPIAutores, estos objetos de transferencia de datos facilitan el intercambio fluido de datos entre los controladores de API y clientes o servicios externos.                                                                                                                                                    |
| [CredencialesUsuario.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/CredencialesUsuario.cs)                             | Gestiona las credenciales de usuario a trav√©s de un objeto de transferencia de datos (DTO) llamado `CredencialesUsuario`. Este DTO requiere direcci√≥n de correo electr√≥nico y contrase√±a para la autenticaci√≥n dentro de la aplicaci√≥n `WebAPIAutores`, manteniendo los est√°ndares de seguridad y optimizando el control de acceso en este proyecto de API web.                                                                                                                                       |
| [ComentarioDTO.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/ComentarioDTO.cs)                                         | Objeto de Transferencia de Datos para Comentarios en la aplicaci√≥n WebAPIAutores. Simplifica la transferencia del contenido del comentario y el identificador √∫nico, apoyando las interacciones de APIs RESTful.                                                                                                                                                                                                                                                                                      |
| [ActualizarRestriccionIPDto.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/ActualizarRestriccionIPDto.cs)               | Este DTO facilita la actualizaci√≥n de datos de restricciones de IP, validando la entrada esencial de IP, permitiendo un control de acceso robusto en el sistema.                                                                                                                                                                                                                                                                                                                                      |
| [LibroDTO.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/LibroDTO.cs)                                                   | La clase `LibroDTO` define la forma para manejar informaci√≥n de libros en la aplicaci√≥n WebAPIAutores, permitiendo una comunicaci√≥n eficiente entre capas de esta API ASP.NET Core. Mapea registros de la base de datos a objetos amigables para la aplicaci√≥n.                                                                                                                                                                                                                                       |
| [LibroDTOConAutores.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/LibroDTOConAutores.cs)                               | Combina el objeto `LibroDTO` con una lista de instancias asociadas `AutorDTO`, proporcionando una representaci√≥n completa de libros junto con sus respectivos autores para WebAPIAutores.                                                                                                                                                                                                                                                                                                             |
| [LibroPatchDTO.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/LibroPatchDTO.cs)                                         | Adapta la entrada del usuario para actualizaciones de libros de la biblioteca en nuestra soluci√≥n WebAPIAutores. El LibroPatchDTO simplifica las solicitudes, asegurando la consistencia del t√≠tulo y valida el formato de fecha para fechas de publicaci√≥n.                                                                                                                                                                                                                                          |
| [ComentarioCreacionDTO.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/ComentarioCreacionDTO.cs)                         | Esta clase `ComentarioCreacionDTO` dentro de la estructura del repositorio WebAPIAutores sirve como un Objeto de Transferencia de Datos (DTO) para crear nuevos comentarios. La caracter√≠stica cr√≠tica es que contiene una propiedad Contenido, que sostiene el texto del contenido de un nuevo comentario que se publicar√° en la API web. Esto facilita la separaci√≥n entre la presentaci√≥n de datos y la manipulaci√≥n en nuestra arquitectura de aplicaci√≥n.                                        |
| [RestriccionIPDto.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/RestriccionIPDto.cs)                                   | Este DTO encapsula datos de restricciones de direcciones IP, contribuyendo a la seguridad de WebAPIAutores al gestionar IPs permitidas dentro de su arquitectura de aplicaci√≥n.                                                                                                                                                                                                                                                                                                                       |
| [LlaveDto.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/DTOs/LlaveDto.cs)                                                   | Gestiona llaves de autenticaci√≥n con tipos, estados y restricciones variables. Caracter√≠sticas clave: Maneja objetos de datos para llaves de autenticaci√≥n de usuario (ID, llave, estado) junto con restricciones espec√≠ficas de dominio (RestriccionDominioDto) y basadas en IP (RestriccionIPDto). Asegura un control de acceso seguro y granular en el ecosistema WebAPIAutores.                                                                                                                   |

</details>

<details closed><summary>WebAPIAutores.Validaciones</summary>

| Archivo                                                                                                                                                     | Resumen                                                                                                                                                                                                                                                    |
| ---                                                                                                                                                      | ---                                                                                                                                                                                                                                                        |
| [PrimeraLetraMayusculaAttribute.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Validaciones/PrimeraLetraMayusculaAttribute.cs) | Valida y asegura que el primer car√°cter en los datos enviados sea may√∫scula, manteniendo el formato adecuado para la entrada del usuario dentro de la estructura del proyecto WebAPIAutores. Este atributo de validaci√≥n personalizada mejora la consistencia y optimiza la gesti√≥n de datos. |

</details>

<details closed><summary>WebAPIAutores.Properties</summary>

| Archivo                                                                                                                       | Resumen                                                                                                                                                                                                                                                      |
| ---                                                                                                                        | ---                                                                                                                                                                                                                                                          |
| [launchSettings.json](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Properties/launchSettings.json) | Configura la configuraci√≥n de la aplicaci√≥n para el entorno de desarrollo. Define las URLs para el lanzamiento y la configuraci√≥n de IIS Express con la autenticaci√≥n de Windows desactivada. Habilita el perfil de recarga en caliente y muestra el navegador de lanzamiento en la ejecuci√≥n, dirigiendo a Swagger para la documentaci√≥n de la API. |

</details>

<details closed><summary>WebAPIAutores.Servicios</summary>

| Archivo                                                                                                                                | Resumen                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ---                                                                                                                                     | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [HashService.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Servicios/HashService.cs)                         | Encripta el texto generado por el usuario utilizando el algoritmo de hashing PBKDF2 con HMACSHA1, entregando un hash salado seguro para la protecci√≥n de datos dentro de la infraestructura del servicio de suscripciones de este proyecto de API web.                                                                                                                                                                                                                   |
| [ServicioLlaves.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Servicios/ServicioLlaves.cs)                   | Gestiona y genera claves de acceso √∫nicas para usuarios espec√≠ficos dentro de la aplicaci√≥n WebAPIAutores, facilitando una interacci√≥n segura con los servicios de la API. La clase ServicioLlaves maneja la creaci√≥n de nuevas claves seg√∫n un tipo predefinido y las activa en la base de datos ApplicationDbContext, asegurando un sistema de autenticaci√≥n de usuario escalable.                                                                                         |
| [FacturasHostedService.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Servicios/FacturasHostedService.cs)     | Este servicio automatiza el procesamiento de facturas diariamente dentro de la gesti√≥n de suscripciones de WebAPIAutores. Al iniciar la aplicaci√≥n, se activa un temporizador que llama al m√©todo `ProcesarFacturas` en un intervalo de un d√≠a. Dentro del m√©todo, verifica y establece las facturas vencidas como impagas y emite nuevas facturas para el √∫ltimo mes si es necesario, utilizando ApplicationDbContext (capa de acceso a datos) y procedimientos almacenados externos para interactuar con la base de datos. |

</details>

<details closed><summary>WebAPIAutores.Utilidades</summary>

| Archivo                                                                                                                           | Resumen                                                                                                                                                                                                                                                                                                                    |
| ---                                                                                                                               | ---                                                                                                                                                                                                                                                                                                                        |
| [AutoMapperProfiles.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Utilidades/AutoMapperProfiles.cs)    | Simplifica la conversi√≥n de datos entre DTOs (Objetos de Transferencia de Datos) y Entidades dentro de la arquitectura de esta API. Esta clase AutoMapperProfiles mapea los tipos de datos Autor, Libro, Comentario, LlaveAPI, RestriccionDominio y RestriccionIP, asegurando una representaci√≥n de datos consistente y facilidad de intercambio a trav√©s de la aplicaci√≥n. |

</details>

<details closed><summary>WebAPIAutores.Controllers</summary>

| Archivo                                                                                                                                                    | Resumen                                                                                                                                                                                                                                                                                                                                                                                     |
| ---                                                                                                                                                         | ---                                                                                                                                                                                                                                                                                                                                                                                         |
| [CustomBaseController.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Controllers/CustomBaseController.cs)                         | Proporciona un controlador base para manejar solicitudes de API dentro de WebAPIAutores. El `CustomBaseController` recupera el ID √∫nico del usuario desde los reclamos del contexto HTTP y lo hace disponible en todos los controladores para gestionar la autenticaci√≥n.                                                                                                                                                     |
| [LibrosController.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Controllers/LibrosController.cs)                                 | Gestiona los endpoints de la API para interactuar con los libros de la biblioteca dentro de la aplicaci√≥n de suscripciones, incluyendo la creaci√≥n, actualizaci√≥n, recuperaci√≥n y eliminaci√≥n de registros. Mapea entre entidades (Libro) y sus correspondientes DTOs, valida las entradas utilizando AutoMapper y Microsoft ASP.NET Core, y emplea EF Core para la interacci√≥n con la base de datos.                                                   |
| [CuentasController.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Controllers/CuentasController.cs)                               | Gestiona el registro y el inicio de sesi√≥n de usuarios a trav√©s de APIs para el servicio de suscripci√≥n. Aprovecha la autenticaci√≥n, protecci√≥n de datos, configuraci√≥n y bibliotecas de Identity para autenticar a los usuarios utilizando correo electr√≥nico y contrase√±a. Emite Tokens Web JSON (JWT) para la gesti√≥n segura de la autenticaci√≥n, otorgando acceso para acciones administrativas como agregar o eliminar roles de administrador.                               |
| [RestriccionesIpController.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Controllers/RestriccionesIpController.cs)               | Este controlador restringe el acceso por IP a las APIs autorizadas dentro de la aplicaci√≥n. Recibe y procesa solicitudes HTTP (POST, PUT, DELETE) para crear, actualizar y eliminar restricciones de IP, asegurando que solo los usuarios autorizados puedan gestionarlas, utilizando un contexto de base de datos subyacente para la persistencia.                                                                                  |
| [FacturasController.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Controllers/FacturasController.cs)                             | Este c√≥digo dentro del `FacturasController` acepta solicitudes POST entrantes, recupera la factura correspondiente, la marca como pagada si a√∫n no se ha hecho, y actualiza el estado de pagos atrasados de los usuarios relacionados en el ApplicationDbContext del repositorio principal.                                                                                                                                     |
| [RestriccionesDominioController.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Controllers/RestriccionesDominioController.cs)     | Este archivo **controla** los endpoints de la API restringidos por autenticaci√≥n relacionados con restricciones de dominio en el proyecto WebAPIAutores. Acepta solicitudes POST, PUT y DELETE para gestionar restricciones de dominio, asegurando que solo los usuarios autorizados con claves de API espec√≠ficas puedan realizar acciones.                                                                                         |
| [LlavesAPIController.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Controllers/LlavesAPIController.cs)                           | Gestiona la API para claves a nivel de aplicaci√≥n en el sistema de autenticaci√≥n del repositorio. Proporciona endpoints para la obtenci√≥n, creaci√≥n y actualizaci√≥n de claves asociadas con usuarios autenticados. Se integra con las capas de acceso a datos, servicio y automapper dentro de la arquitectura de WebAPIAutores. Hace cumplir la autorizaci√≥n a trav√©s del esquema de portador JWT.                                                     |
| [AutoresController.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Controllers/AutoresController.cs)                               | Gestiona la API REST para autores en este proyecto, apoyando las operaciones CRUD (Crear, Leer, Actualizar, Eliminar) con autenticaci√≥n. Proporciona funcionalidad de recuperaci√≥n de datos desde la base de datos, utilizando AutoMapper para el mapeo de datos y MongoDB como almacenamiento subyacente.                                                                                                                                  |
| [ComentariosController.cs](https://github.com/juansdev/subscripciones/blob/master/WebAPIAutores/Controllers/ComentariosController.cs)                       | Este controlador de c√≥digo maneja operaciones CRUD para publicaciones de comentarios relacionadas con libros espec√≠ficos dentro de la aplicaci√≥n `WebAPIAutores`. Al implementar verificaciones de autorizaci√≥n usando JWT, permite a los usuarios publicar comentarios sobre libros espec√≠ficos y recuperar todos o comentarios individuales relacionados con libros. Los comentarios se almacenan en una base de datos y se mapean a trav√©s de AutoMapper para facilitar su manipulaci√≥n por la API. |

</details>

---

##  Comenzando

**Requerimientos del Sistema:**

* **CSharp**: `versi√≥n 10`
* **.NET**: `versi√≥n 6`

###  Instalaci√≥n

<h4>Desde <code>source</code></h4>

> 1. Clona el repositorio subscripciones:
>
> ```console
> $ git clone https://github.com/juansdev/subscripciones
> ```
>
> 2. Cambia al directorio del proyecto:
> ```console
> $ cd subscripciones
> ```
>
> 3. Instala las dependencias:
> ```console
> $ dotnet build
> ```

###  Uso

<h4>Desde <code>source</code></h4>

> Despliega subscripciones usando el comando debajo:
> ```console
> $ dotnet run
> ```

###  Pruebas

> Ejecuta el conjunto de pruebas utilizando el siguiente comando:
> ```console
> $ dotnet test
> ```